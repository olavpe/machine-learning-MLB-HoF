<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-08-15 Sun 22:14 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Grid Search Results</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Olav Landmark Pedersen" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<style> #content{max-width:1800px;}</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Grid Search Results</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org662d214">1. Decision Tree</a></li>
<li><a href="#org26fb858">2. Logistic Regression</a></li>
<li><a href="#org62e714c">3. Neural Network</a>
<ul>
<li><a href="#orgd9e8916">3.1. For the original 10 input features</a></li>
<li><a href="#org52b090f">3.2. For the added 26 input features with 26-13-1 structure</a></li>
<li><a href="#org57fa95d">3.3. For the added 26 input features with 26-17-9-1 structure</a></li>
</ul>
</li>
<li><a href="#org53e2198">4. Links to Other Files in Project</a></li>
</ul>
</div>
</div>


<div id="outline-container-org662d214" class="outline-2">
<h2 id="org662d214"><span class="section-number-2">1</span> Decision Tree</h2>
<div class="outline-text-2" id="text-1">
<p>
The following results are from when only using the original 10 features.
The following pipeline also uses Principal Component Analysis (PCA) first
and finds the best number of components for the decision tree.
</p>

<p>
<b>PCA Components</b>:
</p>
<ul class="org-ul">
<li>Best number of components: From 1 to the max number of features (10).</li>
</ul>

<p>
<b>Decision Tree</b>:
</p>
<ul class="org-ul">
<li>Different Class Weights <code>class_weight=[{0: 1.0, 1: w} for w in [10, 12, 14, 15, 16, 17, 18]],</code></li>
<li>Criterion = <code>['gini', 'entropy']</code></li>
<li>Max Depth = <code>[2, 4, 6, 8, 10, 12]</code></li>
</ul>

<pre class="example" id="org720c8eb">
: Best Score: 0.5178250609559948
: Best Criterion: gini
: Best max_depth: 12
: Best Number Of Components: 6
:
: DecisionTreeClassifier(class_weight={0: 1.0, 1: 16}, max_depth=12)
</pre>
</div>
</div>

<div id="outline-container-org26fb858" class="outline-2">
<h2 id="org26fb858"><span class="section-number-2">2</span> Logistic Regression</h2>
<div class="outline-text-2" id="text-2">
<p>
The following results are from when only using the original 10 features.
</p>

<ul class="org-ul">
<li>Penalty = <code>['l1', 'l2']</code></li>
<li>C = <code>np.logspace(-4, 4, 20),</code></li>
<li>Different Class Weights <code>class_weight=[{0: 1.0, 1: w} for w in [10, 12, 14, 15, 16, 17, 18]],</code></li>
<li>Solver = <code>['liblinear']</code></li>
</ul>

<pre class="example" id="org69e4120">
Fitting 5 folds for each of 280 candidates, totalling 1400 fits
Best Score: 0.5373897826007131

Best Estimator: LogisticRegression(C=1.623776739188721, class_weight={0: 1.0, 1: 10},
                   penalty='l1', random_state=0, solver='liblinear')
</pre>
</div>
</div>

<div id="outline-container-org62e714c" class="outline-2">
<h2 id="org62e714c"><span class="section-number-2">3</span> Neural Network</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgd9e8916" class="outline-3">
<h3 id="orgd9e8916"><span class="section-number-3">3.1</span> For the original 10 input features</h3>
<div class="outline-text-3" id="text-3-1">
<p>
The following results are from when only using the original 10 features.
There were a few iterations since the optimal solutions were endpoints.
</p>

<p>
The dataset for this was not balanced! There were no class weights for the
following result
</p>
<ul class="org-ul">
<li>Batch Size = <code>[2, 4, 6, 8, 10]</code></li>
<li>Epochs = <code>[100, 125, 150, 175, 200]</code></li>
</ul>

<pre class="example" id="org5c5a146">
Best Score: 0.6292982089131982
Best Estimator: {'verbose': 0, 'batch_size': 4, 'epochs': 200, 'build_fn': &lt;function create_model at 0x7f440e43d9d0&gt;}
</pre>

<p>
The <code>class weights</code> parameter were set to 'balanced' for this run.
</p>
<ul class="org-ul">
<li>Batch Size = <code>[3, 4, 5]</code></li>
<li>Epochs = <code>[190, 200, 210]</code></li>
</ul>

<pre class="example" id="org1cfa6a0">
Best Score: 0.589460143563261

Best Estimator: {'verbose': 0, 'batch_size': 5, 'epochs': 210, 'build_fn': &lt;function create_model at 0x7f938bf6a9d0&gt;}
</pre>

<p>
The <code>class weights</code> parameter were set to 'balanced' for this run.
</p>
<ul class="org-ul">
<li>Batch Size = <code>[4, 6, 10, 20]</code></li>
<li>Epochs = <code>[200, 250, 300, 400]</code></li>
</ul>

<pre class="example" id="org83dcd6b">
Best Score: 0.5824397099036812
Best Estimator: {'verbose': 0, 'batch_size': 6, 'epochs': 250, 'build_fn': &lt;function create_model at 0x7f938bf5a280&gt;}
</pre>
</div>
</div>

<div id="outline-container-org52b090f" class="outline-3">
<h3 id="org52b090f"><span class="section-number-3">3.2</span> For the added 26 input features with 26-13-1 structure</h3>
<div class="outline-text-3" id="text-3-2">
<p>
The <code>class weights</code> parameter were set to 'balanced' for this run.
</p>
<ul class="org-ul">
<li>Batch Size = <code>[5, 6, 7]</code></li>
<li>Epochs = <code>[230, 235, 240, 245, 250]</code></li>
</ul>

<pre class="example" id="orgc1daeb8">
Best Score: 0.6141709069236523

Best Estimator: {'verbose': 0, 'batch_size': 6, 'epochs': 240, 'build_fn': &lt;function create_model at 0x7fe6b47933a0&gt;}
</pre>
</div>
</div>

<div id="outline-container-org57fa95d" class="outline-3">
<h3 id="org57fa95d"><span class="section-number-3">3.3</span> For the added 26 input features with 26-17-9-1 structure</h3>
<div class="outline-text-3" id="text-3-3">
<p>
The <code>class weights</code> parameter were set to 'balanced' for this run.
</p>
<ul class="org-ul">
<li>Batch Size = <code>[2, 4, 6, 8, 10]</code></li>
<li>Epochs = <code>[100, 125, 150, 175, 200]</code></li>
</ul>

<pre class="example" id="org9f5e07b">
Best Score: 0.6292286798742979

Best Estimator: {'verbose': 0, 'batch_size': 2, 'epochs': 100, 'build_fn': &lt;function create_model at 0x7fe6b4648670&gt;}
</pre>

<p>
The <code>class weights</code> parameter were set to 'balanced' for this run.
</p>
<ul class="org-ul">
<li>Batch Size = <code>[1, 2, 4]</code></li>
<li>Epochs = <code>[25, 50, 75, 100, 125]</code></li>
</ul>

<pre class="example" id="org265dfc2">
Best Score: 0.5979329942840022

Best Estimator: {'verbose': 0, 'batch_size': 1, 'epochs': 125, 'build_fn': &lt;function create_model at 0x7fe634937040&gt;}
</pre>

<p>
The <code>class weights</code> parameter were set to 'balanced' for this run.
</p>
<ul class="org-ul">
<li>Batch Size = <code>[1, 2, 4]</code></li>
<li>Epochs = <code>[125, 150, 200, 250, 300]</code></li>
</ul>

<pre class="example" id="org8eef706">
Best Score: 0.6079706322981303

Best Estimator: {'verbose': 0, 'batch_size': 4, 'epochs': 125, 'build_fn': &lt;function create_model at 0x7fe6b47933a0&gt;}
</pre>

<p>
It turns out that for this structure, it seems to be peaking at around 0.60 -
0.63 with:
</p>

<ul class="org-ul">
<li>Batch Size: 4</li>
<li>Epochs: 125</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org53e2198" class="outline-2">
<h2 id="org53e2198"><span class="section-number-2">4</span> Links to Other Files in Project</h2>
<div class="outline-text-2" id="text-4">
<ol class="org-ol">
<li><a href="https://www.olavpedersen.com/standalone_hof/extract_data.html">extract_data</a>: Extracting data from Lahman's raw data.</li>
<li><a href="https://www.olavpedersen.com/standalone_hof/filter_data.html">filter_data</a>: Data manipulation, feature creation and feature selection.</li>
<li><a href="https://www.olavpedersen.com/standalone_hof/hall_of_fame_model.html">hof_model</a>: Creation of the model and training of the neural network.</li>
<li><a href="https://www.olavpedersen.com/standalone_hof/grid_search_results.html">grid_search_results</a>: Storing some of the results for the best Grid Searches</li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Olav Landmark Pedersen</p>
<p class="date">Created: 2021-08-15 Sun 22:14</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
